<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel (Auto Save + Image Upload)</title>
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
<style>
/* üåê Global */
* { box-sizing: border-box; transition: all 0.3s ease; }
body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  background: #f4f6f9;
  color: #1e293b;
}
header {
  background: linear-gradient(90deg, #2563eb, #3b82f6);
  color: white;
  padding: 15px;
  text-align: center;
  font-size: 22px;
  font-weight: 600;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

/* üß≠ Sidebar */
aside {
  background: white;
  width: 240px;
  min-height: 100vh;
  box-shadow: 2px 0 8px rgba(0,0,0,0.08);
  position: fixed;
  top: 0; left: 0;
  padding: 20px 10px;
}
aside ul { list-style: none; padding: 0; margin: 0; }
aside li, aside a {
  display: block;
  font-weight: 500;
  color: #334155;
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 6px;
  text-decoration: none;
}
aside li:hover, aside a:hover {
  background: #eff6ff;
  color: #2563eb;
}
aside .active {
  background: #2563eb;
  color: white !important;
}

/* üì± Mobile Sidebar */
#menu-toggle {
  background: #2563eb;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  font-size: 18px;
}
#mobile-menu {
  background: white;
  width: 220px;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
}

/* üìã Main Content */
main {
  margin-left: 260px;
  padding: 30px;
}
@media screen and (max-width: 768px) {
  main { margin-left: 0; }
  aside { display: none; }
}

/* üßæ Tables */
table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  border-radius: 10px;
  overflow: hidden;
  margin-top: 20px;
}
th {
  background: #2563eb;
  color: white;
  padding: 14px 10px;
  text-align: left;
  font-weight: 600;
}
td {
  padding: 12px 10px;
  border-bottom: 1px solid #e2e8f0;
}
tr:hover { background: #f9fafb; }

img.thumb {
  width: 45px;
  height: 45px;
  object-fit: cover;
  border-radius: 6px;
  border: 1px solid #e5e7eb;
}

/* üîò Buttons */
button {
  border: none;
  cursor: pointer;
  border-radius: 6px;
  font-weight: 500;
}
.actions button {
  margin-right: 6px;
  padding: 6px 12px;
  font-size: 14px;
}

header {
  background: linear-gradient(90deg, #2563eb, #3b82f6);
  color: white;
  padding: 15px 20px;
  font-size: 22px;
  font-weight: 600;
  letter-spacing: 0.5px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

header button {
  background: #ef4444; /* red button */
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.3s ease;
}

header button:hover {
  background: #dc2626;
  transform: scale(1.05);
}

.edit-btn { background: #fbbf24; color: white; }
.delete-btn { background: #ef4444; color: white; }
.status-btn { background: #10b981; color: white; }
.edit-btn:hover { background: #f59e0b; }
.delete-btn:hover { background: #dc2626; }
.status-btn:hover { background: #059669; }

button:hover { transform: scale(1.03); }

/* ‚ûï Add/Search */
main button[onclick^="openModal"] {
  background: #2563eb;
  color: white;
  padding: 10px 18px;
  margin-bottom: 12px;
}
input[type="text"] {
  padding: 8px 10px;
  border: 1px solid #cbd5e1;
  border-radius: 6px;
  margin-left: 10px;
  outline: none;
}
input[type="text"]:focus { border-color: #2563eb; }

/* üîî Notification */
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #2563eb;
  color: white;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 500;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  display: none;
}

/* üìë Pagination */
.pagination {
  margin-top: 15px;
  text-align: right;
}
.pagination button {
  background: #e0e7ff;
  color: #1e3a8a;
  padding: 6px 12px;
  border-radius: 6px;
  font-weight: 500;
}
.pagination button:hover {
  background: #2563eb;
  color: white;
}

/* ü™ü Modal */
.modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
}
.modal-content {
  background: white;
  padding: 20px 25px;
  border-radius: 12px;
  width: 340px;
  text-align: center;
  box-shadow: 0 5px 20px rgba(0,0,0,0.15);
  animation: popup 0.3s ease;
}
.modal-content input[type="text"], .modal-content input[type="file"] {
  width: 100%;
  padding: 8px;
  margin-bottom: 12px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
}
.modal-content button {
  padding: 8px 14px;
  margin: 5px;
}
.modal-content img {
  width: 100px;
  height: 100px;
  border-radius: 10px;
  object-fit: cover;
  display: block;
  margin: 10px auto;
}
@keyframes popup {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* üì± Responsive Table (Mobile) */
@media screen and (max-width: 768px) {
  table, thead, tbody, th, td, tr { display: block; width: 100%; }
  thead tr { display: none; }
  td { padding-left: 50%; position: relative; text-align: right; }
  td:before {
    position: absolute;
    left: 10px;
    top: 10px;
    font-weight: 600;
    color: #475569;
    content: attr(data-label);
    text-align: left;
  }
}
</style>

</style>
</head>
<body>

<header>Admin Panel 
  <header>
 
  <button onclick="logout()">Logout</button>
</header>

</header>
 <!-- Sidebar -->
      <aside class="bg-white w-64 hidden md:block shadow-lg p-4">
        <ul class="space-y-2">
          <li><button class="tab-btn active w-full text-left px-4 py-2 rounded-lg hover:bg-blue-50" data-tab="dashboard">üè† Dashboard</button></li>
           <a href="adminproducts.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üì¶ Products</a>
          <li><button class="tab-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-50" data-tab="vendors">üè™ Vendors</button></li>
  <a href="affiliate_login.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üìà Affiliate</a>
          <li><button class="tab-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-50" data-tab="users">üë• Users</button></li>
               <a href="Analytics.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üìä Analytics</a>
         <a href="setting-admin.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">Settings</a>
    
        </ul>
      </aside>

      <!-- Mobile Sidebar -->
      <div class="md:hidden bg-white shadow p-3 flex justify-between items-center">
        <h2 class="font-semibold text-lg">Menu</h2>
        <button id="menu-toggle" class="bg-blue-100 px-3 py-2 rounded-lg">‚ò∞</button>
      </div>
      <aside id="mobile-menu" class="hidden absolute bg-white left-0 top-16 w-56 shadow-lg rounded-r-lg p-4 z-50">
        <ul class="space-y-2">
         <a href="admin_panel.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üè† Dashboard</a>
        <a href="" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üì¶ Products</a>
         <a href="adminvendors.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üè™ Vendors</a>
        <a href="admin_affiliates.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üìà Affiliate</a>
         <a href="admin_users.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üë• Users</a>
          <a href="Analytics.html" id="settings" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">üìä Analytics</a>
          <a href="setting-admin.html" id="settings-btn" class="block py-2 px-3 rounded hover:bg-gray-200 font-medium">Settings</a>
    
      </aside>


<main>
  <div id="notification" class="notification"></div>

  <!-- Tabs -->
  
  <main class="p-6 max-w-6xl mx-auto">
    <h1 class="text-3xl font-bold mb-6">Analytics Dashboard</h1>



    <!-- Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
        <h2 class="text-gray-500">Total Earnings</h2>
        <p class="text-2xl font-bold mt-2">100</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
        <h2 class="text-gray-500">New Users</h2>
        <p class="text-2xl font-bold mt-2">1</p>
      </div>
      <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition">
        <h2 class="text-gray-500">Active Sessions</h2>
        <p class="text-2xl font-bold mt-2">1</p>
      </div>
    </div>

    <!-- Earnings Chart -->
    <section class="bg-white p-6 rounded-lg shadow">
      <h2 class="text-xl font-semibold mb-4">Earnings This Month</h2>
      <canvas id="earningsChart" height="100"></canvas>
    </section>
  </main>

  <script>
    const ctx = document.getElementById('earningsChart').getContext('2d');
    const earningsChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['1 Oct', '5 Oct', '10 Oct', '15 Oct', '20 Oct', '25 Oct', '30 Oct'],
        datasets: [{
          label: 'Earnings ($)',
          data: [200, 300, 400, 500, 600, 700, 1800,2000,2500],
          backgroundColor: 'rgba(59, 130, 246, 0.2)',
          borderColor: 'rgba(59, 130, 246, 1)',
          borderWidth: 2,
          tension: 0.3,
          fill: true,
          pointRadius: 5,
          pointBackgroundColor: 'rgba(59, 130, 246, 1)'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          tooltip: {
            mode: 'index',
            intersect: false
          }
        },
        scales: {
          x: { grid: { display: false } },
          y: { grid: { color: '#e5e7eb' }, beginAtZero: true }
        }
      }
    });
  </script>
  <style>/* Container to align button to the right */
/* Button positioned at top-right */
.button-container {
  position: fixed; /* fixes it relative to viewport */
  top: 20px;       /* distance from top */
  right: 20px;     /* distance from right */
  z-index: 1000;   /* ensures it stays on top */
}

/* Button styling */
.btn {
  display: inline-block;
  background-color: #3b82f6; /* blue color */
  color: white;
  font-weight: 600;
  padding: 12px 30px;
  font-size: 0.95rem;
  border-radius: 0.5rem;
  text-decoration: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.btn:hover {
  background-color: #2563eb; /* darker blue on hover */
  transform: translateY(-2px); /* subtle lift effect */
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

</style>
<script>// Check if admin is logged in
 
  // ‡§Ö‡§ó‡§∞ login ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü ‡§π‡•à ‚Üí login page ‡§™‡§∞ redirect
  if(localStorage.getItem("isAdminLoggedIn") !== "true") {
    window.location.href = "admin-login.html";
  }

  function logout() {
    localStorage.removeItem("isAdminLoggedIn"); // login status remove
    window.location.href = "admin-login.html";   // login page ‡§µ‡§æ‡§™‡§∏
  }
</script>
  <div id="products" class="tab-content">
    <button onclick="openModal('product')">Add Product</button>
    <input type="text" id="product-search" placeholder="Search Product..." onkeyup="searchTable('product')">
    <table>
      <thead><tr><th>Image</th><th>Name</th><th>Status</th><th>Actions</th></tr></thead>
      <tbody id="product-list"></tbody>
    </table>
    <div id="product-pagination" class="pagination">
      <button onclick="prevPage('product')">Prev</button>
      <span id="product-page-info">1 / 1</span>
      <button onclick="nextPage('product')">Next</button>
    </div>
  </div>

  <div id="users" class="tab-content" style="display:none;">
    <button onclick="openModal('user')">Add User</button>
    <input type="text" id="user-search" placeholder="Search User..." onkeyup="searchTable('user')">
    <table>
      <thead><tr><th>Photo</th><th>Name</th><th>Status</th><th>Actions</th></tr></thead>
      <tbody id="user-list"></tbody>
    </table>
    <div id="user-pagination" class="pagination">
      <button onclick="prevPage('user')">Prev</button>
      <span id="user-page-info">1 / 1</span>
      <button onclick="nextPage('user')">Next</button>
    </div>
  </div>

  <div id="vendors" class="tab-content" style="display:none;">
    <button onclick="openModal('vendor')">Add Vendor</button>
    <input type="text" id="vendor-search" placeholder="Search Vendor..." onkeyup="searchTable('vendor')">
    <table>
      <thead><tr><th>Logo</th><th>Name</th><th>Status</th><th>Actions</th></tr></thead>
      <tbody id="vendor-list"></tbody>
    </table>
    <div id="vendor-pagination" class="pagination">
      <button onclick="prevPage('vendor')">Prev</button>
      <span id="vendor-page-info">1 / 1</span>
      <button onclick="nextPage('vendor')">Next</button>
    </div>
  </div>

  <div id="affiliates" class="tab-content" style="display:none;">
    <button onclick="openModal('affiliate')">Add Affiliate</button>
    <input type="text" id="affiliate-search" placeholder="Search Affiliate..." onkeyup="searchTable('affiliate')">
    <table>
      <thead><tr><th>Photo</th><th>Name</th><th>Status</th><th>Actions</th></tr></thead>
      <tbody id="affiliate-list"></tbody>
    </table>
    <div id="affiliate-pagination" class="pagination">
      <button onclick="prevPage('affiliate')">Prev</button>
      <span id="affiliate-page-info">1 / 1</span>
      <button onclick="nextPage('affiliate')">Next</button>
    </div>
  </div>
</main>

<!-- Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <h3 id="modal-title">Add Item</h3>
    <img id="preview" src="" style="display:none;">
    <input type="file" id="image-input" accept="image/*" onchange="previewImage(event)">
    <input type="text" id="modal-name" placeholder="Enter Name">
    <button onclick="saveItem()">Save</button>
    <button onclick="closeModal()">Cancel</button>
  </div>
</div>

<script>
  // ‚úÖ Mobile Menu Toggle Fix
const menuToggle = document.getElementById("menu-toggle");
const mobileMenu = document.getElementById("mobile-menu");

menuToggle.addEventListener("click", () => {
  if (mobileMenu.classList.contains("hidden")) {
    mobileMenu.classList.remove("hidden");
    mobileMenu.style.display = "block";
  } else {
    mobileMenu.classList.add("hidden");
    mobileMenu.style.display = "none";
  }
});

// Optional: Close menu when clicking a link inside it
document.querySelectorAll("#mobile-menu a, #mobile-menu button").forEach(el => {
  el.addEventListener("click", () => {
    mobileMenu.classList.add("hidden");
    mobileMenu.style.display = "none";
  });
});
let currentTab='products', rowsPerPage=5, editId=null, currentType='';
let currentPage={product:1,user:1,vendor:1,affiliate:1};
let data=loadData();

function loadData(){
  return JSON.parse(localStorage.getItem('adminData')) || {product:[],user:[],vendor:[],affiliate:[]};
}
function saveData(){
  localStorage.setItem('adminData', JSON.stringify(data));
}

function openTab(tab){
  document.querySelectorAll('.tab-content').forEach(c=>c.style.display='none');
  document.getElementById(tab).style.display='block';
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  document.querySelector(`button[onclick="openTab('${tab}')"]`).classList.add('active');
  currentTab=tab;
  renderTable(tab.slice(0,-1));
}

function openModal(type,id=null){
  currentType=type; editId=id;
  document.getElementById('modal').style.display='flex';
  document.getElementById('modal-title').innerText=id?`Edit ${type}`:`Add ${type}`;
  const nameInput=document.getElementById('modal-name');
  const preview=document.getElementById('preview');
  if(id){
    const item=data[type].find(i=>i.id===id);
    nameInput.value=item.name;
    if(item.image){ preview.src=item.image; preview.style.display='block'; }
    else preview.style.display='none';
  } else {
    nameInput.value=''; document.getElementById('image-input').value=''; preview.style.display='none';
  }
}

function closeModal(){ document.getElementById('modal').style.display='none'; editId=null; }

function previewImage(e){
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(evt){
      const img=document.getElementById('preview');
      img.src=evt.target.result;
      img.style.display='block';
    };
    reader.readAsDataURL(file);
  }
}

function saveItem(){
  const name=document.getElementById('modal-name').value.trim();
  const preview=document.getElementById('preview');
  if(!name){alert('Enter name');return;}
  const imgSrc=preview.src && preview.style.display!=='none'?preview.src:'';

  if(editId){
    const item=data[currentType].find(i=>i.id===editId);
    item.name=name; item.image=imgSrc;
    showNotification(`${currentType} updated!`);
  } else {
    const id=Date.now();
    data[currentType].push({id,name,status:'Active',image:imgSrc});
    showNotification(`${currentType} added!`);
  }
  saveData();
  renderTable(currentType);
  closeModal();
}

function renderTable(type){
  const tbody=document.getElementById(type+'-list');
  tbody.innerHTML='';
  data[type].forEach(item=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`
      <td><img src="${item.image||'https://via.placeholder.com/50'}" class="thumb"></td>
      <td>${item.name}</td>
      <td>${item.status}</td>
      <td class="actions">
        <button class="edit-btn" onclick="openModal('${type}', ${item.id})">Edit</button>
        <button class="delete-btn" onclick="deleteItem('${type}', ${item.id})">Delete</button>
        <button class="status-btn" onclick="toggleStatus('${type}', ${item.id})">${item.status==='Active'?'Deactivate':'Activate'}</button>
      </td>`;
    tbody.appendChild(tr);
  });
  updatePagination(type);
}

function deleteItem(type,id){
  if(confirm('Are you sure?')){
    data[type]=data[type].filter(i=>i.id!==id);
    saveData();
    showNotification(`${type} deleted!`,'error');
    renderTable(type);
  }
}

function toggleStatus(type,id){
  const item=data[type].find(i=>i.id===id);
  item.status=item.status==='Active'?'Inactive':'Active';
  saveData();
  showNotification(`${type} status changed!`);
  renderTable(type);
}

function showNotification(msg,type='success'){
  const notif=document.getElementById('notification');
  notif.innerText=msg;
  notif.style.backgroundColor=type==='success'?'#10b981':'#ef4444';
  notif.style.display='block';
  setTimeout(()=>notif.style.display='none',3000);
}

function updatePagination(type){
  const tbody=document.getElementById(type+'-list');
  const rows=Array.from(tbody.children);
  const totalPages=Math.ceil(rows.length/rowsPerPage);
  if(currentPage[type]>totalPages) currentPage[type]=totalPages||1;
  rows.forEach((r,i)=>r.style.display=(i>=(currentPage[type]-1)*rowsPerPage&&i<currentPage[type]*rowsPerPage)?'':'none');
  document.getElementById(type+'-page-info').innerText=`${currentPage[type]} / ${totalPages||1}`;
}
function nextPage(type){currentPage[type]++;updatePagination(type);}
function prevPage(type){currentPage[type]--;updatePagination(type);}

function searchTable(type){
  const q=document.getElementById(type+'-search').value.toLowerCase();
  const tbody=document.getElementById(type+'-list');
  Array.from(tbody.children).forEach(row=>{
    row.style.display=row.children[1].innerText.toLowerCase().includes(q)?'':'none';
  });
}

// Load saved data
['product','user','vendor','affiliate'].forEach(t=>renderTable(t));


</script>
<script>
 
 
  if(localStorage.getItem("isAdminLoggedIn") !== "true") {
    window.location.href = "index.html";
  }

  function logout() {
    localStorage.removeItem("isAdminLoggedIn"); // login status remove
    window.location.href = "index.html";   // login page ‡§µ‡§æ‡§™‡§∏
  }

  
</script>


</script>

</body>
</html>
